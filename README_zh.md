<div align="center">

<h1>Murasaki Benchmark</h1>

<p>
  <strong>å¤§è¯­è¨€æ¨¡å‹æ—¥è¯­â†’ä¸­æ–‡ ACGN ç¿»è¯‘è´¨é‡è¯„æµ‹åŸºå‡†</strong>
</p>

<p>
  <a href="https://github.com/soundstarrain/murasaki-benchmark/blob/main/LICENSE">
    <img src="https://img.shields.io/badge/License-GPL%203.0-blue.svg" alt="License">
  </a>
  <img src="https://img.shields.io/badge/Python-3.10+-green" alt="Python">
  <img src="https://img.shields.io/badge/Models-36-orange" alt="Models">
  <img src="https://img.shields.io/badge/Domain-ACGN-pink" alt="Domain">
</p>

<p>
  <a href="#-æ’è¡Œæ¦œ">ğŸ“Š æ’è¡Œæ¦œ</a> â€¢
  <a href="#-æ–¹æ³•è®º">ğŸ› ï¸ æ–¹æ³•è®º</a> â€¢
  <a href="#-å¿«é€Ÿå¼€å§‹">ğŸš€ å¿«é€Ÿå¼€å§‹</a> â€¢
  <a href="#-å¼•ç”¨">ğŸ“ å¼•ç”¨</a>
</p>

<br>

<img src="results/murasaki_benchmark_chart.png" alt="è¯„æµ‹ç»“æœ" width="800">

</div>

<br>

> **Murasaki Benchmark** æä¾›ä¸¤ä¸ªæ®µè½çº§æ•°æ®é›†ï¼ˆShort/Longï¼‰ï¼Œç”¨äºè¯„æµ‹ LLM ç¿»è¯‘ä¸ä¸“ä¸šäººå·¥è¯‘æ–‡åœ¨ **ACGN é¢†åŸŸ**çš„å¯¹é½ç¨‹åº¦ã€‚é€šè¿‡ COMET (wmt22-comet-da) æŒ‡æ ‡ï¼Œæˆ‘ä»¬åœ¨æ®µè½å±‚é¢è¡¡é‡æœºå™¨ç¿»è¯‘ä¸æƒå¨å‚è€ƒè¯‘æ–‡ä¹‹é—´çš„è¯­ä¹‰ç›¸ä¼¼åº¦ã€‚

---

## æ’è¡Œæ¦œ

æˆ‘ä»¬ä½¿ç”¨ COMET (wmt22-comet-da) æŒ‡æ ‡è¯„æµ‹äº†**ä¸»æµå•†ä¸šæ¨¡å‹å’Œå¼€æºæ¨¡å‹**çš„æ—¥ä¸­ ACGN ç¿»è¯‘èƒ½åŠ›ã€‚

### é•¿æ–‡æœ¬é«˜åˆ†æ¦œ (Long Text Leaderboard)

> **æ³¨æ„**: Murasaki å’Œ Sakura æ¨¡å‹çš„ç»“æœåŸºäº IQ4_XS é‡åŒ–ç‰ˆæœ¬ã€‚

| æ’å | æ¨¡å‹ | é•¿æ–‡æœ¬å¾—åˆ† |
|:----:|:-----|:----------:|
| ğŸ¥‡ | **murasaki-14b-v0.2** | **0.8801** |
| ğŸ¥ˆ | **murasaki-8b-v0.1** | **0.8778** |
| ğŸ¥‰ | **murasaki-8b-v0.2** | **0.8773** |
| 4 | gemini-2.5-flash | 0.8767 |
| 5 | gemini-3-flash-preview | 0.8765 |
| 6 | gpt-5-chat-latest | 0.8765 |
| 7 | gemini-3-pro-preview | 0.8744 |
| 8 | deepseek-v3.2 | 0.8738 |
| 9 | Sakura-qwen-2.5-14B | 0.8735 |
| 10 | claude-opus-4-5-20251101 | 0.8732 |
| 11 | gpt-4.1 | 0.8724 |
| 12 | deepseek-v3.1 | 0.8714 |
| 13 | qwen3-14b | 0.8702 |
| 14 | deepseek-v3.2-thinking | 0.8701 |
| 15 | qwen3-32b | 0.8699 |
| 16 | qwen3-8b | 0.8698 |
| 17 | translategemma-12b | 0.8688 |
| 18 | claude-haiku-4-5-20251001 | 0.8688 |
| 19 | gemini-2.0-flash | 0.8688 |
| 20 | claude-sonnet-4-5-20250929 | 0.8682 |
| 21 | Dolphin3.0-R1-Mistral-24B | 0.8678 |
| 22 | mistral-large-latest | 0.8672 |
| 23 | qwen3-235b-a22b | 0.8667 |
| 24 | glm-4.7 | 0.8661 |
| 25 | llama-3.1-405b | 0.8657 |
| 26 | o3-mini | 0.8654 |
| 27 | gpt-5-mini | 0.8651 |
| 28 | grok-4.1-fast | 0.8648 |
| 29 | claude-haiku-4-5-20251001-thinking | 0.8645 |
| 30 | o3 | 0.8642 |
| 31 | deepseek-v3-1-think-250821 | 0.8631 |
| 32 | llama-3.1-70b | 0.8562 |
| 33 | grok-4.1 | 0.8543 |
| 34 | kimi-k2 | 0.8412 |
| 35 | translategemma-4b | 0.8088 |
| 36 | llama-3-8b | 0.7626 |

### çŸ­æ–‡æœ¬é«˜åˆ†æ¦œ (Short Text Leaderboard)

| æ’å | æ¨¡å‹ | çŸ­æ–‡æœ¬å¾—åˆ† |
|:----:|:-----|:-----------:|
| ğŸ¥‡ | **murasaki-14b-v0.2** | **0.8289** |
| ğŸ¥ˆ | **Sakura-qwen-2.5-14B** | **0.8282** |
| ğŸ¥‰ | **murasaki-8b-v0.2** | **0.8271** |
| 4 | murasaki-8b-v0.1 | 0.8269 |
| 5 | gemini-3-flash-preview | 0.8262 |
| 6 | gpt-4.1 | 0.8259 |
| 7 | claude-haiku-4-5-20251001-thinking | 0.8253 |
| 8 | qwen3-235b-a22b | 0.8250 |
| 9 | gpt-5-chat-latest | 0.8249 |
| 10 | gemini-2.5-flash | 0.8243 |
| 11 | claude-haiku-4-5-20251001 | 0.8239 |
| 12 | gemini-3-pro-preview | 0.8238 |
| 13 | claude-opus-4-5-20251101 | 0.8236 |
| 14 | qwen3-32b | 0.8211 |
| 15 | claude-sonnet-4-5-20250929 | 0.8208 |
| 16 | deepseek-v3.2 | 0.8199 |
| 17 | translategemma-12b | 0.8198 |
| 18 | deepseek-v3.2-thinking | 0.8179 |
| 19 | gemini-2.0-flash | 0.8176 |
| 20 | deepseek-v3.1 | 0.8144 |
| 21 | gpt-5-mini | 0.8139 |
| 22 | qwen3-14b | 0.8133 |
| 23 | deepseek-v3-1-think-250821 | 0.8118 |
| 24 | o3-mini | 0.8115 |
| 25 | Dolphin3.0-R1-Mistral-24B | 0.8108 |
| 26 | o3 | 0.8107 |
| 27 | glm-4.7 | 0.8102 |
| 28 | llama-3.1-70b | 0.8089 |
| 29 | grok-4.1 | 0.8088 |
| 30 | mistral-large-latest | 0.8084 |
| 31 | qwen3-8b | 0.8079 |
| 32 | llama-3.1-405b | 0.8077 |
| 33 | grok-4.1-fast | 0.8002 |
| 34 | translategemma-4b | 0.7923 |
| 35 | kimi-k2 | 0.7830 |
| 36 | llama-3-8b | 0.7198 |

å®Œæ•´ç»“æœ: [results/final_comet_scores.jsonl](results/final_comet_scores.jsonl)

---

## æ ¸å¿ƒç‰¹ç‚¹

* **æ®µè½çº§è¯„æµ‹** â€” ä¸¤ä¸ªæ•°æ®é›†ï¼ˆShort: 180-200å­—ç¬¦ï¼ŒLong: 780-800å­—ç¬¦ï¼‰ç”¨äºå…¨é¢è¯„ä¼°æ®µè½ç¿»è¯‘èƒ½åŠ›ã€‚
* **æƒå¨å‚è€ƒè¯‘æ–‡** â€” æ¥è‡ªè€ç‰Œæ±‰åŒ–ç»„å’Œå®˜æ–¹å°ç‰ˆçš„ä¸“ä¸šäººå·¥ç¿»è¯‘ã€‚
* **COMET è¯„åˆ†** â€” ä½¿ç”¨ç¥ç»ç½‘ç»œè¯„ä¼°æ–¹æ³•è¡¡é‡ LLM è¾“å‡ºä¸å‚è€ƒè¯‘æ–‡çš„è¯­ä¹‰å¯¹é½ç¨‹åº¦ã€‚
* **å…¬å¹³å¯¹æ¯”** â€” ç»Ÿä¸€ `temperature=1.0` å’Œæ ‡å‡†åŒ– promptï¼Œç¡®ä¿ç»“æœå¯å¤ç°ã€å¯æ¯”è¾ƒã€‚

---

## ğŸ› ï¸ æ–¹æ³•è®º

### æ•°æ®æ„å»ºæµç¨‹

```mermaid
graph LR
    A[å®˜æ–¹ EPUB æ—¥æ–‡] --> C{å¯¹é½}
    B[æ±‰åŒ–ç»„/å®˜æ–¹è¯‘æ–‡ ä¸­æ–‡] --> C
    C -- Full Matrix DP + BGE-M3 --> D[é«˜ç½®ä¿¡åº¦è¿‡æ»¤]
    D --> E[åˆ†å±‚æŠ½æ ·]
    E --> F((Murasaki æ•°æ®é›†))
    
    style F fill:#f9f,stroke:#333,stroke-width:2px
```

### æ•°æ®åå¤„ç†
ä¸ºäº†ç¡®ä¿è¯„åˆ†çš„å…¬å¹³æ€§ï¼Œæˆ‘ä»¬åœ¨è¯„æµ‹å‰å¯¹æ‰€æœ‰æ¨¡å‹çš„è¾“å‡ºè¿›è¡Œäº†ä¸¥æ ¼çš„**å¼‚å¸¸æ£€æµ‹**ã€‚
- **ç©ºè¾“å‡ºæ£€æŸ¥**ï¼šå®Œå…¨ä¸ºç©ºçš„è¾“å‡ºå°†è¢«ç§»é™¤ã€‚
- **é•¿åº¦æ¯”ä¾‹æ£€æŸ¥**ï¼šè¾“å‡ºé•¿åº¦æ¯”ä¾‹ï¼ˆè¾“å‡º/åŸæ–‡ï¼‰`< 0.1`ï¼ˆè¿‡çŸ­ï¼‰æˆ– `> 4.0`ï¼ˆå¹»è§‰/å¾ªç¯ï¼‰çš„å°†è¢«æ’é™¤ã€‚
- **å®‰å…¨æ‹’ç»**ï¼šæ˜ç¡®çš„æ‹’ç»ï¼ˆå¦‚â€œæˆ‘æ— æ³•ååŠ©â€¦â€¦â€ï¼‰è¢«è§†ä¸ºæ— æ•ˆå¹¶è¿‡æ»¤ã€‚
*ï¼ˆè¿™ç¡®ä¿äº† 0 åˆ†çš„å¼‚å¸¸å€¼ä¸ä¼šæ‰­æ›²æœ‰æ•ˆç¿»è¯‘åˆ†æ•°çš„åˆ†å¸ƒã€‚ï¼‰*


> **âš ï¸ æ˜¾è‘—é—®é¢˜è¯´æ˜ / Known Issues**
> éƒ¨åˆ†æ¨¡å‹åœ¨ç”Ÿæˆç»“æ„æˆ–å†…å®¹ä¸Šå­˜åœ¨ä¸¥é‡é—®é¢˜ï¼Œå¯¼è‡´å¤§é‡æ ·æœ¬è¢«æ•°æ®æ¸…æ´—æµç¨‹è¿‡æ»¤ã€‚å…¶æœ€ç»ˆåˆ†æ•°ä»…åŸºäºå°‘é‡æœ‰æ•ˆæ ·æœ¬è®¡ç®—ï¼Œ**å¯èƒ½æ— æ³•ä»£è¡¨å…¶çœŸå®æ°´å¹³**ï¼š
> * **Qwen3-8B**: æœ‰æ•ˆç‡æä½ï¼ˆçº¦ 24.5%ï¼‰ï¼Œå¤§é‡è¾“å‡ºåŒ…å«è¿‡åº¦é‡å¤æˆ–ä¹±ç ã€‚
> * **Grok-4.1 / Grok-4.1-fast**: æœ‰æ•ˆç‡ä»… 50-60%ï¼Œé•¿æ–‡æœ¬ç”Ÿæˆèƒ½åŠ›æä¸ç¨³å®šã€‚
> * **DeepSeek-V3.1 / Qwen3-32B**: é•¿æ–‡æœ¬æœ‰æ•ˆç‡è¾ƒä½ï¼Œå­˜åœ¨æˆªæ–­æˆ–æ ¼å¼é”™è¯¯ã€‚

### æ•°æ®è´¨é‡æŠ¥å‘Š (æœ‰æ•ˆæ•°/æ€»æ•°)

| æ¨¡å‹ | çŸ­æ–‡æœ¬ (Short) | é•¿æ–‡æœ¬ (Long) | æœ‰æ•ˆä¿ç•™ç‡ |
|:-----|:--------------:|:-------------:|:----------:|
| claude-haiku-4-5-20251001 | 100/100 | 100/100 | 100.0% |
| claude-opus-4-5-20251101 | 100/100 | 100/100 | 100.0% |
| murasaki-8b-v0.1 | 100/100 | 100/100 | 100.0% |
| murasaki-8b-v0.2 | 100/100 | 100/100 | 100.0% |
| murasaki-14b-v0.2 | 100/100 | 100/100 | 100.0% |
| claude-haiku-4-5-20251001-thinking | 100/100 | 100/100 | 100.0% |
| Sakura-qwen-2.5-14B | 100/100 | 100/100 | 100.0% |
| gemini-3-pro-preview | 100/100 | 100/100 | 100.0% |
| gemini-3-flash-preview | 100/100 | 99/100 | 99.5% |
| glm-4.7 | 100/100 | 99/100 | 99.5% |
| kimi-k2 | 99/100 | 100/100 | 99.5% |
| deepseek-v3.2-thinking | 100/100 | 99/100 | 99.5% |
| translategemma-12b | 99/100 | 100/100 | 99.5% |
| gpt-4.1 | 100/100 | 98/100 | 99.0% |
| gemini-2.5-flash | 100/100 | 98/100 | 99.0% |
| gpt-5-chat-latest | 100/100 | 97/100 | 98.5% |
| o3 | 99/99 | 85/88 | 98.4% |
| o3-mini | 99/100 | 97/100 | 98.0% |
| claude-sonnet-4-5-20250929 | 96/100 | 99/100 | 97.5% |
| llama-3.1-70b | 100/100 | 94/100 | 97.0% |
| qwen3-14b | 98/100 | 90/100 | 94.0% |
| gpt-5-mini | 97/100 | 88/100 | 92.5% |
| translategemma-4b | 92/100 | 92/100 | 92.0% |
| Dolphin3.0-R1-Mistral-24B | 95/100 | 88/100 | 91.5% |
| deepseek-v3-1-think-250821 | 96/100 | 84/100 | 90.0% |
| mistral-large-latest | 95/100 | 84/100 | 89.5% |
| llama-3.1-405b | 90/100 | 80/100 | 85.0% |
| deepseek-v3.2 | 92/100 | 76/100 | 84.0% |
| gemini-2.0-flash | 97/100 | 67/100 | 82.0% |
| llama-3-8b | 85/100 | 78/100 | 81.5% |
| qwen3-32b | 91/100 | 56/100 | 73.5% |
| qwen3-235b-a22b | 92/100 | 52/100 | 72.0% |
| grok-4.1-fast | 72/100 | 46/100 | 59.0% |
| deepseek-v3.1 | 63/100 | 53/100 | 58.0% |
| grok-4.1 | 71/100 | 41/100 | 56.0% |
| qwen3-8b | 22/100 | 27/100 | 24.5% |

### æ•°æ®é›†æ„æˆ

| ç±»åˆ« | æ ·æœ¬æ•° | é•¿åº¦ (å­—ç¬¦) | å†…å®¹ç±»å‹ |
|------|:------:|:-----------:|----------|
| **Short** | 100 | 180-200 | å¯¹è¯ã€åæ§½ã€çŸ­æå†™ |
| **Long** | 100 | 780-800 | å¤æ‚ä¸–ç•Œè§‚ã€æƒ…æ„Ÿç‹¬ç™½ |

è¦†ç›–å•†ä¸šè½»å°è¯´åŠã€Œæˆä¸ºå°è¯´å®¶å§ã€ç½‘æ–‡çš„ä¸»æµé¢˜æï¼š

<details>
<summary><strong>ç‚¹å‡»æŸ¥çœ‹é¢˜æè¦†ç›–</strong></summary>

| é¢˜æ | ä»£è¡¨ä½œå“ |
|------|----------|
| **å¼‚ä¸–ç•Œ** | æ— èŒè½¬ç”Ÿã€è½¬ç”Ÿå²è±å§†ã€ç›¾ä¹‹å‹‡è€… |
| **æ‹çˆ±å–œå‰§** | æ˜¥ç‰©ã€ä¿ºå¦¹ã€è¾‰å¤œå¤§å°å§ |
| **å¥‡å¹»** | åˆ€å‰‘ç¥åŸŸã€ä¸ºç¾å¥½ä¸–ç•ŒçŒ®ä¸Šç¥ç¦ã€ç‹¼ä¸é¦™è¾›æ–™ |
| **ç§‘å¹»** | 86ä¸å­˜åœ¨çš„æˆ˜åŒºã€å…¨é‡‘å±ç‹‚æ½® |
| **æ—¥å¸¸** | é‚»å®¶å¤©ä½¿ã€ä¹‰å¦¹ç”Ÿæ´» |
| **æ‚¬ç–‘** | å¤å…¸éƒ¨ç³»åˆ—ã€åŒ–ç‰©è¯­ |
| **æˆ˜è®°** | å¹¼å¥³æˆ˜è®°ã€é“¶æ²³è‹±é›„ä¼ è¯´ |

</details>

### è¯„æµ‹åè®®

| å‚æ•° | å€¼ |
|------|----|
| Temperature | 1.0 |
| System Prompt | æ ‡å‡†åŒ– ([pipeline/config.py](pipeline/config.py)) |
| ç‰¹æ®Šæƒ…å†µ | Sakura & Murasaki æ¨¡å‹ä½¿ç”¨ç‰¹å®šè®¾ç½® |
| æŒ‡æ ‡ | COMET (Unbabel/wmt22-comet-da) |

---

## ğŸ“¦ æ•°æ®é›†

è¯„æµ‹æ•°æ®é›†åŒ…å«åœ¨ [`data/`](data/) ç›®å½•ä¸­ï¼Œå…‹éš†ä»“åº“åå³å¯ä½¿ç”¨ã€‚

### æ–‡ä»¶ç»“æ„

```text
data/
â”œâ”€â”€ dataset_short.jsonl   # çŸ­æ–‡æœ¬è¯„æµ‹é›† (100æ¡, 180-200å­—ç¬¦)
â”œâ”€â”€ dataset_long.jsonl    # é•¿æ–‡æœ¬è¯„æµ‹é›† (100æ¡, 780-800å­—ç¬¦)
â””â”€â”€ README.md             # æ•°æ®é›†è¯¦ç»†è¯´æ˜
```

### æ•°æ®æ ¼å¼ (JSONL)

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `src` | string | æ—¥è¯­æºæ–‡æœ¬ |
| `ref` | string | ä¸­æ–‡å‚è€ƒè¯‘æ–‡ |
| `category` | string | ç±»åˆ«ï¼š`Short` æˆ– `Long` |

**ç¤ºä¾‹**ï¼š
```json
{"src": "ã€Œãã†ã ãªã€ç„éœ§ã®ã»ã†ãŒé¡”ã®é€ å½¢ã«éš™ãŒãªã„ã€", "ref": "ã€Œæ˜¯å•Šï¼Œç„é›¾çš„è„¸å‹æ¯”è¾ƒæ²¡æœ‰ç‘•ç–µã€‚ã€", "category": "Short"}
```

> ğŸ“– å®Œæ•´è¯´æ˜è¯·å‚é˜… [data/README.md](data/README.md)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
git clone https://github.com/soundstarrain/murasaki-benchmark
cd murasaki-benchmark
pip install -r requirements.txt
```

### è¿è¡Œè¯„æµ‹

**æ–¹å¼ä¸€ï¼šæœ¬åœ°æ¨¡å‹ï¼ˆå¦‚é€šè¿‡ Ollama éƒ¨ç½² Qwenï¼‰**
```bash
ollama pull qwen2.5:14b
python examples/local_llm_demo.py
```

**æ–¹å¼äºŒï¼šAPI è°ƒç”¨**
```bash
cp .env.example .env
# ç¼–è¾‘ .env å¡«å†™ API å¯†é’¥
python examples/api_eval_demo.py
```

> è¯¦ç»†é…ç½®è¯·å‚è€ƒ [docs/local_deployment.md](docs/local_deployment.md)

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
murasaki-benchmark/
â”œâ”€â”€ ğŸ“‚ data/           # è¯„æµ‹æ•°æ®é›† (Short/Long)
â”œâ”€â”€ ğŸ“‚ pipeline/       # æ ¸å¿ƒè¯„æµ‹é€»è¾‘ (Prompt, è¯„åˆ†)
â”œâ”€â”€ ğŸ“‚ examples/       # æœ€å°å¯è¿è¡Œç¤ºä¾‹
â”œâ”€â”€ ğŸ“‚ results/        # å®Œæ•´è¯„æµ‹æ—¥å¿—å’Œå›¾è¡¨
â””â”€â”€ ğŸ“‚ docs/           # è¯¦ç»†æ–‡æ¡£
```

---

## ğŸ“ å¼•ç”¨

å¦‚æœæœ¬åŸºå‡†å¯¹æ‚¨çš„ç ”ç©¶æœ‰å¸®åŠ©ï¼Œè¯·å¼•ç”¨ï¼š

```bibtex
@misc{murasaki2026,
  title={Murasaki Benchmark: An ACGN Translation Benchmark for LLMs},
  author={Murasaki Team},
  year={2026},
  url={https://github.com/soundstarrain/murasaki-benchmark}
}
```

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [GPL-3.0](LICENSE) å¼€æºåè®®ã€‚

> æ•°æ®é›†ä»…ä¾›**å­¦æœ¯ç ”ç©¶**ä½¿ç”¨ã€‚åŸä½œå°è¯´å’Œè¯‘æ–‡çš„ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚
